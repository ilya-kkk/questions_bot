# Миграции базы данных

Эта папка содержит SQL-скрипты миграций для базы данных.

## Применение миграций

Используйте скрипт `run_migrations.py` для применения всех миграций:

```bash
python run_migrations.py
```

Или применяйте миграции вручную через psql:

```bash
psql -h localhost -U app_user -d app_db -f migrations/001_initial_schema.sql
```

## Порядок миграций

Миграции должны применяться в порядке их номеров:
- 001_initial_schema.sql - начальная схема БД
- 002_add_user_answer_column.sql - (устаревшая) колонка user_answer в логах
- 003_learned_questions.sql - таблица learned_questions и удаление user_answer

## Создание новой миграции

При создании новой миграции:
1. Создайте файл с номером следующей миграции (например, `002_add_new_table.sql`)
2. Добавьте комментарии с описанием изменений
3. Используйте `IF NOT EXISTS` для идемпотентности
4. Обновите этот README с описанием новой миграции

